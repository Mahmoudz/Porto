"use strict";(self.webpackChunkporto=self.webpackChunkporto||[]).push([[562],{2698:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var t=s(4848),o=s(8453);const i={sidebar_position:6},c="Components Interaction",r={id:"Basics/Components Interaction",title:"Components Interaction",description:"Components in Porto like in many other architectures can interact with each other. However, we should be mindful of the dependencies across containers and especially across sections, if you intend to split into micro-services with ease.",source:"@site/docs/Basics/Components Interaction.md",sourceDirName:"Basics",slug:"/Basics/Components Interaction",permalink:"/Porto/docs/Basics/Components Interaction",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Basics/Components Interaction.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Basics",permalink:"/Porto/docs/category/basics"},next:{title:"Containers Dependencies",permalink:"/Porto/docs/Basics/Containers Dependencies"}},a={},l=[{value:"Components Interaction Diagram",id:"components-interaction-diagram",level:2},{value:"Request Life Cycle",id:"request-life-cycle",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"components-interaction",children:"Components Interaction"}),"\n",(0,t.jsx)(n.p,{children:"Components in Porto like in many other architectures can interact with each other. However, we should be mindful of the dependencies across containers and especially across sections, if you intend to split into micro-services with ease."}),"\n",(0,t.jsx)(n.h2,{id:"components-interaction-diagram",children:"Components Interaction Diagram"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:s(6994).A+""})}),"\n",(0,t.jsx)(n.h2,{id:"request-life-cycle",children:"Request Life Cycle"}),"\n",(0,t.jsx)(n.p,{children:"The Request Life Cycle is the process through which an API call navigates through the main components of a Porto application. The following steps describe a basic API call scenario:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["The User calls an ",(0,t.jsx)(n.code,{children:"Endpoint"})," in a ",(0,t.jsx)(n.code,{children:"Route"})," file."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Endpoint"})," calls a ",(0,t.jsx)(n.code,{children:"Middleware"})," to handle the Authentication."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Endpoint"})," calls its corresponding ",(0,t.jsx)(n.code,{children:"Controller"})," function."]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.code,{children:"Request"})," object, which is automatically injected in the ",(0,t.jsx)(n.code,{children:"Controller"}),", applies the request validation and authorization rules."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Controller"})," calls an ",(0,t.jsx)(n.code,{children:"Action"})," and passes the data from the ",(0,t.jsx)(n.code,{children:"Request"})," object to it."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Action"})," executes the business logic, by calling multiple ",(0,t.jsx)(n.code,{children:"Tasks"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Tasks"})," execute reusable subsets of the business logic, with each ",(0,t.jsx)(n.code,{children:"Task"})," responsible for a single portion of the main ",(0,t.jsx)(n.code,{children:"Action"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Action"})," prepares the final result to be returned to the ",(0,t.jsx)(n.code,{children:"Controller"}),", and may collect data from the ",(0,t.jsx)(n.code,{children:"Tasks"})," if needed."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Controller"})," builds the response using a ",(0,t.jsx)(n.code,{children:"View"})," or ",(0,t.jsx)(n.code,{children:"Transformer"}),", and sends it back to the User."]}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Views:"})," should be used in case the App serves HTML pages."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Transformers:"})," should be used in case the App serves JSON or XML data."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["It is important to note that the ",(0,t.jsx)(n.code,{children:"Request"})," object handles request validation (and optionally, authorization rules, unless they are handled by middlewares.), while the ",(0,t.jsx)(n.code,{children:"Action"})," executes the business logic by calling ",(0,t.jsx)(n.code,{children:"Tasts"}),". The ",(0,t.jsx)(n.code,{children:"Tasks"})," are used to execute reusable subsets of the business logic, with each ",(0,t.jsx)(n.code,{children:"Task"})," responsible for a single portion of the main ",(0,t.jsx)(n.code,{children:"Action"}),". The ",(0,t.jsx)(n.code,{children:"View"})," or ",(0,t.jsx)(n.code,{children:"Transformer"})," is used to build the response that is sent back to the User."]}),"\n",(0,t.jsx)(n.p,{children:"Everything triggered before the controller pertains to the interface with the external system, such as the web or potentially blockchain in the future. Meanwhile, everything after the controller relates to your business logic, which remains reusable regardless of the external system."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},6994:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/porto_container_interactions-7d437afd656815c831cb0befed3c5295.svg"},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>r});var t=s(6540);const o={},i=t.createContext(o);function c(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);